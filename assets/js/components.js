const RumahBSD={init:function(){this.initNavbar(),this.initChatPopup(),this.initBackToTop(),this.initFancybox(),this.initHeroSwiper(),this.initHouseSwipers(),this.initGallerySwiper(),this.initForms(),this.initScrollAnimations()},initNavbar:function(){const e=document.querySelector(".navbar"),t=document.querySelector(".hamburger"),n=document.querySelector(".nav-links");if(e&&t&&n){var i=()=>{50<window.scrollY?e.classList.add("scrolled"):e.classList.remove("scrolled")};const o=()=>{t.classList.toggle("active"),n.classList.toggle("active")};i(),window.addEventListener("scroll",i),t.addEventListener("click",o),n.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{n.classList.contains("active")&&o()})})}},initChatPopup:function(){const r=document.getElementById("whatsappPopup");var e=document.getElementById("showChatPopup"),t=document.getElementById("closeChat");const s=document.getElementById("sendWhatsApp"),l=document.getElementById("popupMessage"),c=document.querySelector(".chat-messages");function n(){if(l&&s){const a=l.value.trim();var e,t,n,i,o;a&&(e=a,t=!0,c&&((n=document.createElement("div")).className="message "+(t?"sent":"received"),i=(i=new Date).getHours().toString().padStart(2,"0")+":"+i.getMinutes().toString().padStart(2,"0"),o=window.location.pathname.includes("/pages/")?"../assets":"assets",n.innerHTML=`
    ${t?"":'<div class="message-avatar"><img src="'+o+'/images/global/foto-profil.jpg" alt="Customer Support"></div>'}
    <div class="message-content">
        <p>${e}</p>
        <span class="message-time">${i}</span>
    </div>
`,c.appendChild(n),c.scrollTop=c.scrollHeight),l.value="",setTimeout(()=>{var e=encodeURIComponent(a);window.open("https://wa.me/6285601081492?text="+e,"_blank"),r.classList.remove("show")},1e3))}}r&&e&&t&&(e.addEventListener("click",function(){r.classList.add("show")}),t.addEventListener("click",function(){r.classList.remove("show")}),s&&s.addEventListener("click",n),l)&&l.addEventListener("keypress",function(e){"Enter"===e.key&&(e.preventDefault(),n())})},initBackToTop:function(){const e=document.getElementById("backToTop");e&&(window.addEventListener("scroll",function(){500<window.scrollY?e.classList.add("visible"):e.classList.remove("visible")}),e.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}))},initFancybox:function(){"undefined"!=typeof Fancybox&&Fancybox.bind("[data-fancybox]",{loop:!0,backdropClick:"close",dragToClose:!1,Carousel:{friction:.88},wheel:!1,Image:{zoom:!1},Thumbs:{autoStart:!0}})},initHeroSwiper:function(){var e=document.querySelector(".heroSwiper");e&&new Swiper(e,{slidesPerView:1,spaceBetween:0,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".heroSwiper .swiper-pagination",clickable:!0},navigation:{nextEl:".heroSwiper .swiper-button-next",prevEl:".heroSwiper .swiper-button-prev"}})},initHouseSwipers:function(){var e=document.querySelectorAll(".houseSwiper");0!==e.length&&e.forEach((e,t)=>{new Swiper(e,{slidesPerView:1,spaceBetween:0,loop:!0,pagination:{el:e.querySelector(".swiper-pagination"),clickable:!0},navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},effect:"slide",speed:500})})},initRelatedSwipers:function(){var e=document.querySelectorAll(".relatedSwiper");0!==e.length&&e.forEach(e=>{new Swiper(e,{slidesPerView:1,spaceBetween:0,loop:!0,pagination:{el:e.querySelector(".swiper-pagination"),clickable:!0},navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")}})})},initGallerySwiper:function(){var e=document.querySelector(".gallerySwiper");e&&new Swiper(e,{slidesPerView:"auto",spaceBetween:20,centeredSlides:!1,pagination:{el:".gallerySwiper .swiper-pagination",clickable:!0},navigation:{nextEl:".gallerySwiper .swiper-button-next",prevEl:".gallerySwiper .swiper-button-prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},640:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3,spaceBetween:20}}})},initGalleryCarouselSwiper:function(){var e=document.querySelector(".galleryCarouselSwiper");e&&new Swiper(e,{slidesPerView:1,spaceBetween:20,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{el:".galleryCarouselSwiper .swiper-pagination",clickable:!0},navigation:{nextEl:".galleryCarouselSwiper .swiper-button-next",prevEl:".galleryCarouselSwiper .swiper-button-prev"},breakpoints:{640:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3,spaceBetween:30}}})},initDetailSwipers:function(){var e=document.querySelector(".detailThumbSwiper"),t=document.querySelector(".detailMainSwiper");e&&t&&(e=new Swiper(e,{spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0}),new Swiper(t,{spaceBetween:10,navigation:{nextEl:".detailMainSwiper .swiper-button-next",prevEl:".detailMainSwiper .swiper-button-prev"},thumbs:{swiper:e},loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1}}))},initPropertyBannerSwiper:function(){var e=document.querySelector(".propertyBannerSwiper");e&&new Swiper(e,{slidesPerView:1,spaceBetween:0,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".propertyBannerSwiper .swiper-pagination",clickable:!0},navigation:{nextEl:".propertyBannerSwiper .swiper-button-next",prevEl:".propertyBannerSwiper .swiper-button-prev"},effect:"slide",speed:800})},initShareButtons:function(){var e,t,n=document.querySelector(".share-btn.facebook-btn"),i=document.querySelector(".share-btn.twitter-btn"),o=document.querySelector(".share-btn.whatsapp-btn"),a=document.querySelector(".share-btn.telegram-btn"),r=document.getElementById("copyLinkBtn");(n||i||o||a||r)&&(e=encodeURIComponent(window.location.href),t=encodeURIComponent(document.title),n&&(n.href="https://www.facebook.com/sharer/sharer.php?u="+e),i&&(i.href=`https://twitter.com/intent/tweet?text=${t}&url=`+e),o&&(o.href=`https://api.whatsapp.com/send?text=${t}%20`+e),a&&(a.href=`https://telegram.me/share/url?url=${e}&text=`+t),r)&&r.addEventListener("click",function(){var e=document.createElement("input");e.value=window.location.href,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e);const t=document.createElement("div");t.textContent="Link disalin!",t.style.position="absolute",t.style.backgroundColor="#292357",t.style.color="white",t.style.padding="5px 10px",t.style.borderRadius="5px",t.style.fontSize="12px",t.style.top=this.offsetTop-30+"px",t.style.left=this.offsetLeft+this.offsetWidth/2-40+"px",t.style.zIndex="1000",t.style.transition="opacity 0.3s",document.body.appendChild(t),setTimeout(function(){t.style.opacity="0",setTimeout(function(){document.body.removeChild(t)},300)},2e3)})},initForms:function(){this.initNewsletterForm()},initNewsletterForm:function(){var e=document.getElementById("newsletterForm");e&&e.addEventListener("submit",function(e){e.preventDefault();var e=document.getElementById("nameNewsletter"),t=document.getElementById("whatsappNewsletter"),n=document.getElementById("emailNewsletter"),i=e.value.trim(),o=t.value.trim(),a=n.value.trim();i&&o&&a?(alert("Terima kasih! Data Anda berhasil didaftarkan."),e.value="",t.value="",n.value=""):alert("Silakan lengkapi semua data")})},initWhatsAppButtons:function(){var e=document.querySelectorAll(".house-whatsapp-btn");0!==e.length&&e.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("data-product");window.open("https://wa.me/6285601081492?text="+encodeURIComponent(`Halo, saya tertarik dengan ${e}. Mohon informasi lebih lanjut.`),"_blank")})})},initScrollAnimations:function(){this.initContactSectionAnimations(),this.initFooterAnimations(),this.initProjectsAnimations()},initContactSectionAnimations:function(){const e=document.querySelector(".profile-container"),t=document.querySelector(".contact-info-container"),n=document.querySelectorAll(".contact-item");var i;function o(e){e=e.getBoundingClientRect();return e.top<=.8*(window.innerHeight||document.documentElement.clientHeight)&&0<=e.bottom}function a(){e&&o(e)&&e.classList.add("animate-in"),t&&o(t)&&(t.classList.add("animate-in"),n.forEach((e,t)=>{setTimeout(()=>{e.classList.add("animate-in")},150*t)}))}(e||t)&&(e&&(e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 0.8s ease, transform 0.8s ease"),t&&(t.style.opacity="0",t.style.transform="translateY(30px)",t.style.transition="opacity 0.8s ease, transform 0.8s ease"),n.forEach(e=>{e.style.opacity="0",e.style.transform="translateX(20px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease"}),document.querySelector("style#animation-styles")||((i=document.createElement("style")).id="animation-styles",i.textContent=`
    .animate-in {
        opacity: 1 !important;
        transform: translate(0, 0) !important;
    }
    .fade-in {
        opacity: 1 !important;
        transform: translateY(0) !important;
    }
`,document.head.appendChild(i)),window.addEventListener("scroll",a),setTimeout(a,300))},initFooterAnimations:function(){const t=document.querySelector(".footer-section"),n=document.querySelectorAll(".ft-links, .ft-contact, .ft-newsletter");var e;function i(){var e;t&&(e=(e=t).getBoundingClientRect()).top<=.85*(window.innerHeight||document.documentElement.clientHeight)&&0<=e.bottom&&(n.forEach((e,t)=>{setTimeout(()=>{e.classList.add("fade-in")},150*t)}),window.removeEventListener("scroll",i))}t&&0!==n.length&&(n.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.5s ease, transform 0.5s ease"}),document.querySelector("style#animation-styles")||((e=document.createElement("style")).id="animation-styles",e.textContent=`
    .fade-in {
        opacity: 1 !important;
        transform: translateY(0) !important;
    }
    .animate-in {
        opacity: 1 !important;
        transform: translate(0, 0) !important;
    }
`,document.head.appendChild(e)),window.addEventListener("scroll",i),setTimeout(i,300))},initProjectsAnimations:function(){const e=document.querySelectorAll(".project-card");var t;function n(){e.forEach(e=>{var t;(t=(t=e).getBoundingClientRect()).top<=.8*(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom&&e.classList.add("fade-in")})}0!==e.length&&(e.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease"}),document.querySelector("style#animation-styles")||((t=document.createElement("style")).id="animation-styles",t.textContent=`
    .fade-in {
        opacity: 1 !important;
        transform: translateY(0) !important;
    }
    .animate-in {
        opacity: 1 !important;
        transform: translate(0, 0) !important;
    }
`,document.head.appendChild(t)),window.addEventListener("scroll",n),setTimeout(n,300))},initFilterForm:function(){var e=document.querySelector(".toggle-filter-btn");const t=document.querySelector(".filter-form");e&&t&&e.addEventListener("click",function(){t.classList.toggle("active"),t.classList.contains("active")?t.style.display="flex":setTimeout(()=>{t.style.display="none"},300)})},initPropertyFilter:function(t,n){var e=document.querySelector(".filter-btn");const i=document.getElementById("locationSearch");var o=document.querySelector(".search-btn");e&&i&&o&&(e.addEventListener("click",n),o.addEventListener("click",function(){var e=i.value.trim().toLowerCase();RumahBSD.applySearch(t,e),n&&n()}),i.addEventListener("keyup",function(e){"Enter"===e.key&&(e=i.value.trim().toLowerCase(),RumahBSD.applySearch(t,e),n)&&n()}))},applySearch:function(e,n){document.querySelectorAll(e).forEach(e=>{var t=e.textContent.toLowerCase();""===n||t.includes(n)?e.classList.add("search-match"):e.classList.remove("search-match")})},checkNoResults:function(e,t,n){e=Array.from(document.querySelectorAll(e)).filter(e=>"none"!==e.style.display),t=document.querySelector(t);let i=document.querySelector(".no-results-message");0===e.length?(i||((i=document.createElement("div")).className="no-results-message",i.innerHTML=`<p>${n||"Tidak ada hasil yang sesuai dengan filter yang dipilih."}</p>`,t.appendChild(i)),i.style.display="block"):i&&(i.style.display="none")}};